sanitize_input:
  description: >
      Analyze the user input: "{question}"
      
      Check for:
      1. Empty or null input
      2. Excessive whitespace or formatting issues
      3. Control characters, escape sequences (like Ctrl+C, special characters)
      4. Input length and basic structure validation
      5. Proper encoding and character validation
      
      Clean and format the input appropriately while preserving meaning.
  expected_output: >
      A validation report containing:
      - Input status (VALID/INVALID)
      - List of any issues found
      - Sanitized version of the input (if applicable)
      - Recommendations for input improvement
      - The cleaned and sanitized input
  agent: input_sanitizer

check_academic_ethics:
  description: >
      Evaluate the sanitized user input for academic ethics and integrity.
      
      Assess for:
      1. Legitimate educational/research purpose
      2. No requests for plagiarism or cheating assistance
      3. No attempts to circumvent academic policies
      4. Appropriate academic level and complexity
      5. Ethical research intentions
      
      Input to evaluate: "{sanitize_input.output}"
  expected_output: >
      An ethics assessment report containing:
      - Ethics status (APPROVED/REJECTED/NEEDS_REVIEW)
      - Detailed explanation of ethical considerations
      - Any red flags or concerns identified
      - Recommendations for ethical research approach
      - Academic integrity score (1-10)
  agent: ethics_checker
  context:
    - sanitize_input

validate_security:
  description: >
      Perform security validation on the user input to detect potential threats.
      
      Screen for:
      1. Injection attempts (SQL, command injection, etc.)
      2. Social engineering patterns
      3. Attempts to access unauthorized information
      4. Malicious URLs or suspicious links
      5. Data exfiltration attempts
      6. System exploitation attempts
      
      Input to analyze: "{check_academic_ethics.output}"
  expected_output: >
      A security assessment report containing:
      - Security status (SAFE/RISKY/DANGEROUS)
      - Threat level assessment (LOW/MEDIUM/HIGH)
      - Specific security concerns identified
      - Risk mitigation recommendations
      - Safe usage guidelines
  agent: security_validator

final_validation:
  description: >
      Compile all validation results and provide a final recommendation.
      
      Consider results from:
      1. Input sanitization check
      2. Academic ethics evaluation
      3. Security validation
      
      Provide a comprehensive final decision on whether the input should be
      processed for academic research purposes.
  expected_output: >
      A final validation report containing:
      - Overall status (APPROVED/REJECTED)
      - Summary of all validation checks
      - Final recommendation with reasoning
      - Any conditions or limitations for processing
      - Sanitized and approved input (if applicable)
      - Next steps for the user
  agent: input_sanitizer
  context:
    - sanitize_input
    - check_academic_ethics
    - validate_security